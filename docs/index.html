<style>
    .content {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: 15px;
        -webkit-box-shadow: 0px 10px 29px 4px rgba(0, 0, 0, 0.75);
        -moz-box-shadow: 0px 10px 29px 4px rgba(0, 0, 0, 0.75);
        box-shadow: 0px 10px 29px 4px rgba(0, 0, 0, 0.75);
        background: #fff5e5;
        width: 80%;
        margin-left: 10%;
        margin-top: 30px;
        padding: 20px;
        font-weight: 500;
        color: #fffcf7;
    }

    .img {
        -webkit-box-shadow: 0px 10px 29px 4px rgba(82, 82, 82, 0.75);
        -moz-box-shadow: 0px 10px 29px 4px rgba(82, 82, 82, 0.75);
        box-shadow: 0px 10px 29px 4px rgba(82, 82, 82, 0.75);
        margin-bottom: 20px;
    }
    .img2{
        margin: 12px 20px;
        display: block;
        -webkit-box-shadow: 0px 3px 11px 4px rgba(82, 82, 82, 0.35);
        -moz-box-shadow: 0px 3px 11px 4px rgba(82, 82, 82, 0.35);
        box-shadow: 0px 3px 11px 4px rgba(82, 82, 82, 0.35);
    }

    .imgtitle {
        text-align: center;
        padding: 20px;
    }

    .title {
        padding: 20px;
    }

    #content-table {
        padding-left: 20px;
        padding-bottom: 20px;
    }

    #content-table ul {
        margin-bottom: 0;
    }

    #content-table li {
        list-style-type: none;
    }

    #content-table a {
        cursor: pointer;
    }

    pre {
        background: #e7e7e7 !important;
    }

    .btn-group-sm>.btn,
    .btn-sm {
        padding: 3px 10px;
        font-size: 12px;
        line-height: 1.5;
        border-radius: 3px;
    }

    .btn-transparent {
        color: #333;
        background-color: transparent;
        border-color: transparent;
    }

    .btn {
        display: inline-block;
        padding: 6px 12px;
        margin-bottom: 0;
        font-size: 14px;
        font-weight: 400;
        line-height: 1.42857143;
        text-align: center;
        white-space: nowrap;
        vertical-align: middle;
        -ms-touch-action: manipulation;
        touch-action: manipulation;
        cursor: pointer;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        background-image: none;
        border: 1px solid transparent;
        border-radius: 4px;
        color: #3d3d3d;
    }

    .btn:hover {
        color: #3d3d3d;
    }

    .up{ float: right; }
</style>

<html>

<head>
    <title>FetchXml Calculated Field</title>
    <meta name="description" content="Create a FetchXml based field in Dynamics CRM" />
    <link rel="icon" type="image/x-icon" class="js-site-favicon" href="images/favicon.ico">

    <meta property="og:url" content="https://akouddane.github.io/FetchXmlCalculatedField">
    <meta property="og:title" content="Dynamics CRM FetchXml Calculated Field on GitHub">
    <meta property="og:description" content="Create a FetchXml based field in Dynamics CRM">
    <meta property="og:url" content="https://akouddane.github.io/FetchXmlCalculatedField">
    <meta property="og:image" content="images/repository-open-graph.png">
    <meta property="og:site_name" content="Dynamics CRM FetchXml Calculated Field on GitHub">
    <meta property="og:type" content="article">
    <meta property="article:author" content="https://github.com/Akouddane">

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="github.css">
    <script src="jquery.js"></script>
    <script src="highlight.pack.js"></script>

    <script>
        function scrollToElem(selector) {
            $("html, body").animate({ scrollTop: $(selector).offset().top - 10 }, 500);
        }
        function github() {
            window.location = "https://github.com/Akouddane/FetchXmlCalculatedField";
        }
    </script>

</head>

<body>

    <div id="container">
        <div style="float: right; margin: 40px;" >
            <a href="https://github.com/Akouddane/FetchXmlCalculatedField" class="btn btn-transparent btn-sm btn-flat"
                type="button">
                <img style="height: 26px; width: 26px" src="images/github.png">
                <span style="font-size: 18px; line-height: 30px; display: inline-block; vertical-align: bottom;">Download on Github</span>
            </a>
        </div>


        <div class="inner" style="width:80%">

            <header>
                <img src="images/logo.png" style="height: 60px" />
                <h2>Create a FetchXml based field in Dynamics CRM</h2>
            </header>


            <h1>Table of contents</h1>
            <section id="content-table">
                <ul>
                    <li>
                        <a onclick="scrollToElem('#how')">How it works</a>
                    </li>
                    <li>
                        <a onclick="scrollToElem('#configuration')">Configuration</a>
                    </li>
                    <li>
                        <a onclick="scrollToElem('#entityConfiguration')">FetchXml Calculated Field Configuration Entity</a>
                    </li>
                    <li>
                        <a onclick="scrollToElem('#samples')">Samples</a>
                        <ul>
                            <li><a onclick="scrollToElem('#sample1')">Sample 1 : Opportunities Count</a></li>
                            <li><a onclick="scrollToElem('#sample2')">Sample 2 : Last Opportunity Status</a></li>
                            <li><a onclick="scrollToElem('#sample3')">Sample 3 : Opportunities Sum</a></li>
                            <li><a onclick="scrollToElem('#sample4')">Sample 4 : All Opportunities</a></li>
                            <li><a onclick="scrollToElem('#sample5')">Sample 5 : Opportunities Average</a></li>
                        </ul>
                    </li>
                    <li>
                        <a onclick="scrollToElem('#downloads')">Solution Downloads</a>
                    </li>
                </ul>
            </section>


            <section id="main_content">
                <h1 id="how">How it works
                    <button onclick="scrollToElem('#container')" class="btn btn-transparent btn-sm btn-flat up" type="button">
                        <img style="height: 26px; width: 26px" src="images/top.png">
                    </button>
                </h1>
                <p>
                    FetchXmlCalculatedField allows to create a readonly field based on a Fetch Xml results.
                    <br> 
                    <p>
                        <img src="images/FetchXmlCalculatedField.gif" class="img" style="width: 100%;">
                    </p>
                </p>

                <br>
                <hr>
                <h1 id="configuration">Configuration
                    <button onclick="scrollToElem('#container')" class="btn btn-transparent btn-sm btn-flat up" type="button">
                        <img style="height: 26px; width: 26px" src="images/top.png">
                    </button>
                </h1>
                <p>
                    1. import the solution FetchXmlCalculatedField. <br>
                </p>
                <p>
                    2. Go to advanced seach and search for "FetchXml Calculated Field Configurations" entity and create a new record
                </p>
                <p>
                    <img src="images/advfind.png" class="img" alt="" style="max-width: 550px;">
                </p>
                <p>
                    3. Fill in Configuration Name and FetchXml Fields, then fields that appear after the Xml analysis and save
                </p>
                <p>
                    <img src="images/FetchXmlCalculatedField_OppCount.gif" class="img" alt="" style="max-width: 1000px;">
                </p>
                <p>
                    4. Copy configuration Id
                </p>
                <p>
                    5. Go to desired form, and add any text field, and search for FetchXmlCalculatedField in controls Tab
                    Paste Configuration Id in the parameter then save and publish.
                </p>
                <p>
                    <img src="images/config.png" class="img" alt="" style="max-width: 1000px">
                </p>
                <p>
                    6. <span style="color: #E91E63;">Give read permission to all users for "FetchXml Calculated Field Configuration" Entity.</span>
                </p>

                <br>
                <hr>

                <h1 id="entityConfiguration">FetchXml Calculated Field Configuration Entity
                    <button onclick="scrollToElem('#container')" class="btn btn-transparent btn-sm btn-flat up" type="button">
                        <img style="height: 26px; width: 26px" src="images/top.png">
                    </button>
                </h1>
                <ul>
                    <li>
                        <span style="font-weight: bold">Name :</span> The configuration name 
                    </li>
                    <li>
                        <span style="font-weight: bold">Configuration Id :</span> (Read only) Guid of the configuration 
                    </li>
                    <li>
                        <span style="font-weight: bold">FetchXml :</span> FetchXml request. #id parameter takes the current record id (See samples section for more details)
                    </li>
                    <li>
                        <span style="font-weight: bold">Aggregation :</span> Appears after The fetchXml analysis
                        <ul style="margin: 0">
                            <li>
                                <span style="font-weight: bold">First Record :</span> 
                                Gets only the first record of the fetchXml results <br>
                                If more than one attribute are defined, the result will concatenate all the defined attributes using "Concat attributes separator"<br>
                            </li>
                            <li>
                                <span style="font-weight: bold">Records Count :</span> 
                                Gets the number of fetchXml results  
                            </li>
                            <li>
                                <span style="font-weight: bold">Sum :</span> 
                                Gets the sum of fetchXml results. <br>
                                This option appears only if all fetchXml attributes are numbers(float, integer or decimal) or currencies.
                                <br>
                                Mixed types (number and currency) are not allowed  
                            </li>
                            <li>
                                <span style="font-weight: bold">Average :</span> 
                                Gets the average of fetchXml results. <br>
                                If more than one attribute are defined, the average will be calculated on the sum of all the defined attributes<br>
                                This option appears only if all fetchXml attributes are numbers(float, integer or decimal) or currencies.<br>
                                Mixed types (number and currency) are not allowed  
                            </li>
                            <li>
                                <span style="font-weight: bold">Concatenate :</span> 
                                Gets the concatenation of fetchXml results. <br>
                                If more than one attribute are defined, the result will concatenate all the defined attributes using "Concat attributes separator"
                            </li>
                        </ul>
                    </li>
                    <li>
                        <span style="font-weight: bold">Default Currency :</span> 
                        Defines the currency to use for the sum or average<br>
                        This option appears only if all fetchXml attributes are currencies.
                    </li>
                    <li>
                        <span style="font-weight: bold">Concat attributes separator :</span> 
                        Separator used for the concatenation of attributes (more than one attribute defines) <br>
                    </li>
                    <li>
                        <span style="font-weight: bold">Concat lines separator :</span> 
                        Separator used for the concatenation of lines (more than one result retrieved) <br>
                    </li>
                </ul>

                <br>
                <hr>
                <h1 id="samples">Samples
                    <button onclick="scrollToElem('#container')" class="btn btn-transparent btn-sm btn-flat up" type="button">
                        <img style="height: 26px; width: 26px" src="images/top.png">
                    </button>
                </h1>

                <h2 id="sample1">Sample 1 : Opportunities Count
                    <button onclick="scrollToElem('#container')" class="btn btn-transparent btn-sm btn-flat up" type="button">
                        <img style="height: 26px; width: 26px" src="images/top.png">
                    </button>
                </h2>
                <p>
                    <img src="images/sample1.png" class="img" alt="" style="max-width: 700px;">
                </p>
                <pre><code class="xml">&lt;fetch version=&quot;1.0&quot; output-format=&quot;xml-platform&quot; mapping=&quot;logical&quot; distinct=&quot;false&quot;&gt; 
    &lt;entity name=&quot;opportunity&quot;&gt; 
    &lt;attribute name=&quot;opportunityid&quot; /&gt; 
        &lt;order attribute=&quot;name&quot; descending=&quot;false&quot; /&gt; 
        &lt;filter type=&quot;and&quot;&gt; 
            &lt;condition attribute=&quot;parentaccountid&quot; operator=&quot;eq&quot; uitype=&quot;account&quot; value=&quot;#id&quot; /&gt; 
        &lt;/filter&gt; 
    &lt;/entity&gt; 
&lt;/fetch&gt;</code></pre>
                    Result : 
                    <p>
                        <img src="images/result1.png" class="img" alt="" style="max-width: 550px;">
                    </p>
                
                <hr>
                <h2 id="sample2">Sample 2 : Last Opportunity Status
                    <button onclick="scrollToElem('#container')" class="btn btn-transparent btn-sm btn-flat up" type="button">
                        <img style="height: 26px; width: 26px" src="images/top.png">
                    </button>
                </h2>
                <p>
                    <img src="images/sample2.png" class="img" alt="" style="max-width: 700px;">
                </p>
                <pre><code class="xml">&lt;fetch version=&quot;1.0&quot; output-format=&quot;xml-platform&quot; mapping=&quot;logical&quot; distinct=&quot;false&quot;&gt; 
    &lt;entity name=&quot;opportunity&quot;&gt; 
        &lt;attribute name=&quot;name&quot; /&gt; 
        &lt;attribute name=&quot;statuscode&quot; /&gt; 
        &lt;order attribute=&quot;createdon&quot; descending=&quot;false&quot; /&gt; 
        &lt;filter type=&quot;and&quot;&gt; 
            &lt;condition attribute=&quot;parentaccountid&quot; operator=&quot;eq&quot; uitype=&quot;account&quot; value=&quot;#id&quot; /&gt; 
        &lt;/filter&gt; 
    &lt;/entity&gt; 
&lt;/fetch&gt;</code></pre>
                
                Result : 
                    <p>
                        <img src="images/result2.png" class="img" alt="" style="max-width: 550px;">
                    </p>
                <hr>
                <h2 id="sample3">Sample 3 : Opportunities Sum
                    <button onclick="scrollToElem('#container')" class="btn btn-transparent btn-sm btn-flat up" type="button">
                        <img style="height: 26px; width: 26px" src="images/top.png">
                    </button>
                </h2>
                <p>
                    <img src="images/sample3.png" class="img" alt="" style="max-width: 700px;">
                </p>
                <pre><code class="xml">&lt;fetch version=&quot;1.0&quot; output-format=&quot;xml-platform&quot; mapping=&quot;logical&quot; distinct=&quot;false&quot;&gt; 
    &lt;entity name=&quot;opportunity&quot;&gt; 
        &lt;attribute name=&quot;actualvalue&quot; /&gt; 
        &lt;order attribute=&quot;name&quot; descending=&quot;false&quot; /&gt; 
        &lt;filter type=&quot;and&quot;&gt; 
            &lt;condition attribute=&quot;parentaccountid&quot; operator=&quot;eq&quot; uitype=&quot;account&quot; value=&quot;#id&quot; /&gt; 
        &lt;/filter&gt; 
    &lt;/entity&gt; 
&lt;/fetch&gt;</code></pre>
Result : 
<p>
    <img src="images/result3.png" class="img" alt="" style="max-width: 550px;">
</p>
                
                <hr>
                <h2 id="sample4">Sample 4 : All Opportunities
                    <button onclick="scrollToElem('#container')" class="btn btn-transparent btn-sm btn-flat up" type="button">
                        <img style="height: 26px; width: 26px" src="images/top.png">
                    </button>
                </h2>
                <p>
                    <img src="images/sample4.png" class="img" alt="" style="max-width: 700px;">
                </p>
                <pre><code class="xml">&lt;fetch version=&quot;1.0&quot; output-format=&quot;xml-platform&quot; mapping=&quot;logical&quot; distinct=&quot;false&quot;&gt; 
    &lt;entity name=&quot;opportunity&quot;&gt; 
        &lt;attribute name=&quot;name&quot; /&gt; 
        &lt;attribute name=&quot;createdon&quot; /&gt; 
        &lt;order attribute=&quot;createdon&quot; descending=&quot;false&quot; /&gt; 
        &lt;filter type=&quot;and&quot;&gt; 
            &lt;condition attribute=&quot;parentaccountid&quot; operator=&quot;eq&quot; uitype=&quot;account&quot; value=&quot;#id&quot; /&gt; 
        &lt;/filter&gt; 
    &lt;/entity&gt; 
&lt;/fetch&gt;</code></pre>
                Result : 
                <p>
                    <img src="images/result4.png" class="img" alt="" style="max-width: 550px;">
                </p>
                
                <hr>
                <h2 id="sample5">Sample 5 : Opportunities Average
                    <button onclick="scrollToElem('#container')" class="btn btn-transparent btn-sm btn-flat up" type="button">
                        <img style="height: 26px; width: 26px" src="images/top.png">
                    </button>
                </h2>
                <p>
                    <img src="images/sample5.png" class="img" alt="" style="max-width: 700px;">
                </p>
                <pre><code class="xml">&lt;fetch version=&quot;1.0&quot; output-format=&quot;xml-platform&quot; mapping=&quot;logical&quot; distinct=&quot;false&quot;&gt; 
    &lt;entity name=&quot;opportunity&quot;&gt; 
        &lt;attribute name=&quot;actualvalue&quot; /&gt; 
        &lt;filter type=&quot;and&quot;&gt; 
            &lt;condition attribute=&quot;parentaccountid&quot; operator=&quot;eq&quot; uitype=&quot;account&quot; value=&quot;#id&quot; /&gt; 
        &lt;/filter&gt; 
    &lt;/entity&gt; 
&lt;/fetch&gt;</code></pre>
                Result : 
                <p>
                    <img src="images/result5.png" class="img" alt="" style="max-width: 550px;">
                </p>
                
                <br>
                <hr>

                <h1 id="downloads">Solution Downloads
                    <button onclick="scrollToElem('#container')" class="btn btn-transparent btn-sm btn-flat up" type="button">
                        <img style="height: 26px; width: 26px" src="images/top.png">
                    </button>
                </h1>
                <p>
                    <h4 id="header-4">Dynamics CRM Solution</h4>
                    <p></p>
                    <p>
                        <a href="https://github.com/Akouddane/FetchXmlCalculatedField/raw/master/dist/FetchXmlCalculatedField_1_0_0_0_managed.zip">FetchXmlCalculatedField Solution 1.0.0.0</a>
                    </p>
                </p>
                <br>
                <hr>
                

                
                <br>
                <br>
                <br>
                <br>
                <br>



                <script>
                    $(document).ready(function () {
                        $('pre code').each(function (i, block) {
                            hljs.highlightBlock(block);
                        });
                    });
                </script>
</body>

</html>